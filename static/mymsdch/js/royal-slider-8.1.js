var matched,browser;jQuery.uaMatch=function(b){b=b.toLowerCase();var a=/(chrome)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)||/(msie) ([\w.]+)/.exec(b)||b.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)||[];return{browser:a[1]||"",version:a[2]||"0"};};matched=jQuery.uaMatch(navigator.userAgent);browser={};if(matched.browser){browser[matched.browser]=true;browser.version=matched.version;}if(browser.chrome){browser.webkit=true;}else{if(browser.webkit){browser.safari=true;}}jQuery.browser=browser;(function(a){function b(g,l){this.slider=a(g);this._downEvent="";this._moveEvent="";this._upEvent="";var n=this;this.settings=a.extend({},a.fn.royalSlider.defaults,l);this.isSlideshowRunning=false;this._slideshowHoverLastState=false;this._dragContainer=this.slider.find(".royalSlidesContainer");this._slidesWrapper=this._dragContainer.wrap('<div class="royalWrapper"/>').parent();this.slides=this._dragContainer.find(".royalSlide");this._preloader="<p class='royalPreloader'></p>";this._successfullyDragged=false;this._useWebkitTransition=false;if("ontouchstart" in window){if(!this.settings.disableTranslate3d){if(("WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix())){this._dragContainer.css({"-webkit-transform-origin":"0 0","-webkit-transform":"translateZ(0)"});this._useWebkitTransition=true;}}this.hasTouch=true;this._downEvent="touchstart.rs";this._moveEvent="touchmove.rs";this._upEvent="touchend.rs";}else{this.hasTouch=false;if(this.settings.dragUsingMouse){this._downEvent="mousedown.rs";this._moveEvent="mousemove.rs";this._upEvent="mouseup.rs";}else{this._dragContainer.addClass("auto-cursor");}}if(this.hasTouch){this.settings.directionNavAutoHide=false;this.settings.hideArrowOnLastSlide=true;}if(a.browser.msie&&parseInt(a.browser.version,10)<=8){this._isIE8=true;}else{this._isIE8=false;}this.slidesArr=[];var p,k,f,o;this.slides.each(function(){k=a(this);p={};p.slide=k;if(n.settings.blockLinksOnDrag){if(!this.hasTouch){k.find("a").bind("click.rs",function(t){if(n._successfullyDragged){t.preventDefault();return false;}});}else{var s=k.find("a");var r;s.each(function(){r=a(this);r.data("royalhref",r.attr("href"));r.data("royaltarget",r.attr("target"));r.attr("href","#");r.bind("click",function(t){t.preventDefault();if(n._successfullyDragged){return false;}else{var u=a(this).data("royalhref");var v=a(this).data("royaltarget");if(!v||v.toLowerCase()==="_self"){window.location.href=u;}else{window.open(u);}}});});}}if(n.settings.nonDraggableClassEnabled){k.find(".non-draggable").bind(n._downEvent,function(t){n._successfullyDragged=false;t.stopImmediatePropagation();});}f=k.attr("data-src");if(f==undefined||f==""||f=="none"){p.preload=false;}else{p.preload=true;p.preloadURL=f;}if(n.settings.captionAnimationEnabled){p.caption=k.find(".royalCaption").css("display","none");}n.slidesArr.push(p);});this._removeFadeAnimation=false;if(this.settings.removeCaptionsOpacityInIE8){if(a.browser.msie&&parseInt(a.browser.version,10)<=8){this._removeFadeAnimation=true;}}if(this.settings.autoScaleSlider){this.sliderScaleRatio=this.settings.autoScaleSliderHeight/this.settings.autoScaleSliderWidth;}this.slider.css("overflow","visible");this.slideWidth=0;this.slideshowTimer="";this._alreadyStoped=false;this.numSlides=this.slides.length;this.currentSlideId=this.settings.startSlideIndex;this.lastSlideId=-1;this.isAnimating=true;this.wasSlideshowPlaying=false;this._currentDragPosition=0;this._lastDragPosition=0;this._blockThumbnailsScroll=false;this._captionAnimateTimeouts=[];this._captionAnimateProperties=[];this._blockClickEvents=false;this._dragBlocked=false;this._startTime=0;this._accelerationX=0;this._tx=0;this._startMouseX=0;this._startMouseY=0;this._startPos=0;this._isDragging=false;this._isHovering=false;if(this.settings.slideTransitionType==="fade"){if(this._useWebkitTransition||("WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix())){this._animateCSS3Opacity=true;}else{this._animateCSS3Opacity=false;}this._fadeContainer=a("<div class='fade-container'></div>").appendTo(this._slidesWrapper);}if(window.location.href.indexOf("nuvaring-und-applikator.xhtml")>0){this.slideshowEnabled=false;}else{if(this.settings.slideshowEnabled&&this.settings.slideshowDelay>0){if(!this.hasTouch&&this.settings.slideshowPauseOnHover){this.slider.hover(function(){n._isHovering=true;n._stopSlideshow(true);},function(){n._isHovering=false;n._resumeSlideshow(true);});}this.slideshowEnabled=true;}else{this.slideshowEnabled=false;}}this._setGrabCursor();if(this.settings.controlNavEnabled){var c;this._navigationContainer="";var d;if(!n.settings.controlNavThumbs){this._navigationContainer=a('<div class="royalControlNavOverflow"><div class="royalControlNavContainer"><div class="royalControlNavCenterer"></div></div></div>');c=this._navigationContainer.find(".royalControlNavCenterer");}else{this.slider.addClass("with-thumbs");if(n.settings.controlNavThumbsNavigation){d=a('<div class="thumbsAndArrowsContainer"></div>');this.thumbsArrowLeft=a("<a href='#' class='thumbsArrow left'></a>");this.thumbsArrowRight=a("<a href='#' class='thumbsArrow right'></a>");d.append(this.thumbsArrowLeft);d.append(this.thumbsArrowRight);var q=parseInt(this.thumbsArrowLeft.outerWidth(),10);this._navigationContainer=a('<div class="royalControlNavOverflow royalThumbs"><div class="royalControlNavThumbsContainer"></div></div>');c=this._navigationContainer.find(".royalControlNavThumbsContainer");}else{this._navigationContainer=a('<div class="royalControlNavOverflow royalThumbs"><div class="royalControlNavContainer"><div class="royalControlNavCenterer"></div></div></div>');c=this._navigationContainer.find(".royalControlNavCenterer");}}var e=0;this.slides.each(function(r){if(n.settings.controlNavThumbs){c.append('<a href="#" class="royalThumb" style="background-image:url('+a(this).attr("data-thumb")+')">'+(r+1)+"</a>");}else{c.append('<a href="#">'+(r+1)+"</a>");}e++;});this.navItems=c.children();if(d){d.append(this._navigationContainer);this._slidesWrapper.after(d);}else{this._slidesWrapper.after(this._navigationContainer);}if(n.settings.controlNavThumbs&&n.settings.controlNavThumbsNavigation){this._thumbsArrowLeftBlocked=true;this._thumbsArrowRightBlocked=false;this._thumbsNavContainer=c;if(this._useWebkitTransition){this._thumbsNavContainer.css({"-webkit-transition-duration":this.settings.controlNavThumbsSpeed+"ms","-webkit-transition-property":"-webkit-transform","-webkit-transition-timing-function":"ease-in-out"});}this._numThumbItems=e;var h=this.navItems.eq(0);this._outerThumbWidth=h.outerWidth(true);this._thumbsTotalWidth=this._outerThumbWidth*this._numThumbItems;this._thumbsNavContainer.css("width",this._thumbsTotalWidth);this._thumbsSpacing=parseInt(h.css("marginRight"),10);this._thumbsTotalWidth-=this._thumbsSpacing;this._currThumbsX=0;this._recalculateThumbsScroller();this.thumbsArrowLeft.click(function(r){r.preventDefault();if(!n._thumbsArrowLeftBlocked){n._animateThumbs(n._currThumbsX+n._thumbsContainerWidth+n._thumbsSpacing);}});this.thumbsArrowRight.click(function(r){r.preventDefault();if(!n._thumbsArrowRightBlocked){n._animateThumbs(n._currThumbsX-n._thumbsContainerWidth-n._thumbsSpacing);}});}this._updateControlNav();}if(this.settings.directionNavEnabled){this._slidesWrapper.after("<a href='#' class='arrow left'/>");this._slidesWrapper.after("<a href='#' class='arrow right'/>");this.arrowLeft=this.slider.find("a.arrow.left");this.arrowRight=this.slider.find("a.arrow.right");if(this.arrowLeft.length<1||this.arrowRight.length<1){this.settings.directionNavEnabled=false;}else{if(this.settings.directionNavAutoHide){this.arrowLeft.hide();this.arrowRight.hide();this.slider.one("mousemove.arrowshover",function(){n.arrowLeft.fadeIn("fast");n.arrowRight.fadeIn("fast");});this.slider.hover(function(){n.arrowLeft.fadeIn("fast");n.arrowRight.fadeIn("fast");},function(){n.arrowLeft.fadeOut("fast");n.arrowRight.fadeOut("fast");});}}this._updateDirectionNav();}this.sliderWidth=0;this.sliderHeight=0;var m;this._resizeEvent="onorientationchange" in window?"orientationchange.royalslider":"resize.royalslider";a(window).bind(this._resizeEvent,function(){if(m){clearTimeout(m);}m=setTimeout(function(){n.updateSliderSize();},100);});this.updateSliderSize();this.settings.beforeLoadStart.call(this);var i=this.slidesArr[this.currentSlideId];if(this.currentSlideId!=0){if(!this._useWebkitTransition){this._dragContainer.css({left:-this.currentSlideId*this.slideWidth});}else{this._dragContainer.css({"-webkit-transition-duration":"0","-webkit-transition-property":"none"});this._dragContainer.css({"-webkit-transform":"translate3d("+-this.currentSlideId*this.slideWidth+"px, 0, 0)"});}}if(this.settings.welcomeScreenEnabled){function j(r){n.settings.loadingComplete.call(n);if(r&&n.settings.preloadNearbyImages){n._preloadNearbyImages(n.currentSlideId);}n.slider.find(".royalLoadingScreen").fadeOut(n.settings.welcomeScreenShowSpeed);setTimeout(function(){n._startSlider();},n.settings.welcomeScreenShowSpeed+100);}if(i.preload){this._preloadNearbyImages(this.currentSlideId,function(){j(false);});}else{o=i.slide.find("img.royalImage")[0];if(o){if(this._isImageLoaded(o)){j(true);a(o).css("opacity",0);a(o).animate({opacity:1},"fast");}else{a(o).css("opacity",0);a("<img />").load(function(){j(true);a(o).animate({opacity:1},"fast");}).attr("src",o.src);}}else{j(true);}}}else{if(i.preload){this._preloadImage(i,function(){n.settings.loadingComplete.call(n);if(n.settings.preloadNearbyImages){n._preloadNearbyImages(n.currentSlideId);}});}else{o=i.slide.find("img.royalImage")[0];if(o){if(this._isImageLoaded(o)){a(o).css("opacity",0).animate({opacity:1},"fast");}else{a(o).css("opacity",0);a("<img />").load(function(){a(o).animate({opacity:1},"fast");}).attr("src",o.src);}}this.settings.loadingComplete.call(this);}setTimeout(function(){n._startSlider();},100);}}b.prototype={goTo:function(h,k,f,g,d){if(!this.isAnimating){this.isAnimating=true;var j=this;this.lastSlideId=this.currentSlideId;this.currentSlideId=h;this._dragBlocked=true;this._blockClickEvents=true;if(this.lastSlideId!=h){this._updateControlNav(f);this._preloadNearbyImages(h);}this._updateDirectionNav();this.settings.beforeSlideChange.call(this);if(this.slideshowEnabled&&this.slideshowTimer){this.wasSlideshowPlaying=true;this._stopSlideshow();}var l=!k?this.settings.slideTransitionSpeed:0;if(g||k||this.settings.slideTransitionType==="move"){var e;if(d>0){l=d;}else{e=this.settings.slideTransitionEasing;}if(!this._useWebkitTransition){if(parseInt(this._dragContainer.css("left"),10)!==-this.currentSlideId*this.slideWidth){this._dragContainer.animate({left:-this.currentSlideId*this.slideWidth},l,(d>0?"easeOutSine":this.settings.slideTransitionEasing),function(){j._onSlideAnimationComplete();});}else{this._onSlideAnimationComplete();}}else{if(this._getWebkitTransformX()!==-this.currentSlideId*this.slideWidth){this._dragContainer.bind("webkitTransitionEnd.rs",function(m){if(m.target==j._dragContainer.get(0)){j._dragContainer.unbind("webkitTransitionEnd.rs");j._onSlideAnimationComplete();}});this._dragContainer.css({"-webkit-transition-duration":l+"ms","-webkit-transition-property":"-webkit-transform","-webkit-transition-timing-function":(d>0?"ease-out":"ease-in-out"),"-webkit-transform":"translate3d("+-this.currentSlideId*this.slideWidth+"px, 0, 0)"});}else{this._onSlideAnimationComplete();}}}else{var c=this.slidesArr[this.lastSlideId].slide;var i=c.clone().appendTo(this._fadeContainer);if(!this._animateCSS3Opacity){this._dragContainer.css({left:-this.currentSlideId*this.slideWidth});i.animate({opacity:0},l,this.settings.slideTransitionEasing,function(){i.remove();j._onSlideAnimationComplete();});}else{if(!this._useWebkitTransition){this._dragContainer.css({left:-this.currentSlideId*this.slideWidth});}else{this._dragContainer.css({"-webkit-transition-duration":"0","-webkit-transform":"translate3d("+-this.currentSlideId*this.slideWidth+"px, 0, 0)",opacity:"1"});}setTimeout(function(){i.bind("webkitTransitionEnd.rs",function(m){if(m.target==i.get(0)){i.unbind("webkitTransitionEnd.rs");i.remove();j._onSlideAnimationComplete();}});i.css({"-webkit-transition-duration":l+"ms","-webkit-transition-property":"opacity","-webkit-transition-timing-function":"ease-in-out"});i.css("opacity",0);},100);}}}},goToSilent:function(c){this.goTo(c,true);},prev:function(){if(this.currentSlideId<=0){this.goTo(this.numSlides-1);}else{this._moveSlideLeft();}},next:function(){if(this.currentSlideId>=this.numSlides-1){this.goTo(0);}else{this._moveSlideRight();}},updateSliderSize:function(){var k=this;var j;var h;if(this.settings.autoScaleSlider){j=this.slider.width();if(j!=this.sliderWidth){this.slider.css("height",j*this.sliderScaleRatio);}}j=this.slider.width();h=this.slider.height();if(j!=this.sliderWidth||h!=this.sliderHeight){this.sliderWidth=j;this.sliderHeight=h;this.slideWidth=this.sliderWidth+this.settings.slideSpacing;var e=this.slidesArr.length;var d,c;for(var f=0,g=e;f<g;++f){d=this.slidesArr[f];c=d.slide.find("img.royalImage").eq(0);if(c&&d.preload==false){this._scaleImage(c,this.sliderWidth,this.sliderHeight);}if(this.settings.slideSpacing>0&&f<e-1){d.slide.css("cssText","margin-right:"+this.settings.slideSpacing+"px !important;");}d.slide.css({height:k.sliderHeight,width:k.sliderWidth});}if(!this._useWebkitTransition){this._dragContainer.css({left:-this.currentSlideId*this.slideWidth,width:this.slideWidth*this.numSlides});}else{if(!this._dragBlocked){this._dragContainer.css({"-webkit-transition-duration":"0","-webkit-transition-property":"none"});this._dragContainer.css({"-webkit-transform":"translate3d("+-this.currentSlideId*this.slideWidth+"px, 0, 0)",width:this.slideWidth*this.numSlides});}}if(this.settings.controlNavThumbs&&this.settings.controlNavThumbsNavigation){this._recalculateThumbsScroller();}}},stopSlideshow:function(){this._stopSlideshow();this.slideshowEnabled=false;this.wasSlideshowPlaying=false;},resumeSlideshow:function(){this.slideshowEnabled=true;if(!this.wasSlideshowPlaying){this._resumeSlideshow();}},destroy:function(){this._stopSlideshow();this._dragContainer.unbind(this._downEvent);a(document).unbind(this._moveEvent).unbind(this._upEvent);a(window).unbind(this._resizeEvent);if(this.settings.keyboardNavEnabled){a(document).unbind("keydown.rs");}this.slider.remove();delete this.slider;},_preloadNearbyImages:function(d,c){if(this.settings.preloadNearbyImages){var e=this;this._preloadImage(this.slidesArr[d],function(){if(c){c.call();}e._preloadImage(e.slidesArr[d+1],function(){e._preloadImage(e.slidesArr[d-1]);});});}else{this._preloadImage(this.slidesArr[d],c);}},_updateControlNav:function(e){if(this.settings.controlNavEnabled){this.navItems.eq(this.lastSlideId).removeClass("current");this.navItems.eq(this.currentSlideId).addClass("current");if(this.settings.controlNavThumbs&&this.settings.controlNavThumbsNavigation){var d=this.navItems.eq(this.currentSlideId).position().left;var c=d-Math.abs(this._currThumbsX);if(c>this._thumbsContainerWidth-this._outerThumbWidth*2-1-this._thumbsSpacing){if(!e){this._animateThumbs(-d+this._outerThumbWidth);}else{this._animateThumbs(-d-this._outerThumbWidth*2+this._thumbsContainerWidth+this._thumbsSpacing);}}else{if(c<this._outerThumbWidth*2-1){if(!e){this._animateThumbs(-d-this._outerThumbWidth*2+this._thumbsContainerWidth+this._thumbsSpacing);}else{this._animateThumbs(-d+this._outerThumbWidth);}}}}}},_updateDirectionNav:function(){if(this.settings.directionNavEnabled){if(this.settings.hideArrowOnLastSlide){if(this.currentSlideId==0){this._arrowLeftBlocked=true;this.arrowLeft.addClass("disabled");if(this._arrowRightBlocked){this._arrowRightBlocked=false;this.arrowRight.removeClass("disabled");}}else{if(this.currentSlideId==this.numSlides-1){this._arrowRightBlocked=true;this.arrowRight.addClass("disabled");if(this._arrowLeftBlocked){this._arrowLeftBlocked=false;this.arrowLeft.removeClass("disabled");}}else{if(this._arrowLeftBlocked){this._arrowLeftBlocked=false;this.arrowLeft.removeClass("disabled");}else{if(this._arrowRightBlocked){this._arrowRightBlocked=false;this.arrowRight.removeClass("disabled");}}}}}}},_resumeSlideshow:function(c){if(this.slideshowEnabled){var d=this;if(!this.slideshowTimer){this.slideshowTimer=setInterval(function(){d.next();},this.settings.slideshowDelay);}}},_stopSlideshow:function(c){if(this.slideshowTimer){clearInterval(this.slideshowTimer);this.slideshowTimer="";}},_preloadImage:function(g,c){if(g){if(g.preload){var f=this;var d=new Image();var e=a(d);e.css("opacity",0);e.addClass("royalImage");g.slide.prepend(e);g.slide.prepend(this._preloader);g.preload=false;e.load(function(){f._scaleImage(e,f.sliderWidth,f.sliderHeight);e.animate({opacity:1},300,function(){g.slide.find(".royalPreloader").remove();});if(c){c.call();}}).attr("src",g.preloadURL);}else{if(c){c.call();}}}else{if(c){c.call();}}},_recalculateThumbsScroller:function(){this._thumbsContainerWidth=parseInt(this._navigationContainer.width(),10);this._minThumbsX=-(this._thumbsTotalWidth-this._thumbsContainerWidth);if(this._thumbsContainerWidth>=this._thumbsTotalWidth){this._thumbsArrowRightBlocked=true;this._thumbsArrowLeftBlocked=true;this.thumbsArrowRight.addClass("disabled");this.thumbsArrowLeft.addClass("disabled");this._blockThumbnailsScroll=true;this._setThumbScrollerPosition(0);}else{this._blockThumbnailsScroll=false;var c=this.navItems.eq(this.currentSlideId).position().left;this._animateThumbs(-c+this._outerThumbWidth);}},_animateThumbs:function(c){if(!this._blockThumbnailsScroll&&c!=this._currThumbsX){if(c<=this._minThumbsX){c=this._minThumbsX;this._thumbsArrowLeftBlocked=false;this._thumbsArrowRightBlocked=true;this.thumbsArrowRight.addClass("disabled");this.thumbsArrowLeft.removeClass("disabled");}else{if(c>=0){c=0;this._thumbsArrowLeftBlocked=true;this._thumbsArrowRightBlocked=false;this.thumbsArrowLeft.addClass("disabled");this.thumbsArrowRight.removeClass("disabled");}else{if(this._thumbsArrowLeftBlocked){this._thumbsArrowLeftBlocked=false;this.thumbsArrowLeft.removeClass("disabled");}if(this._thumbsArrowRightBlocked){this._thumbsArrowRightBlocked=false;this.thumbsArrowRight.removeClass("disabled");}}}this._setThumbScrollerPosition(c);this._currThumbsX=c;}},_setThumbScrollerPosition:function(c){if(!this._useWebkitTransition){this._thumbsNavContainer.animate({left:c},this.settings.controlNavThumbsSpeed,this.settings.controlNavThumbsEasing);}else{this._thumbsNavContainer.css({"-webkit-transform":"translate3d("+c+"px, 0, 0)"});}},_startSlider:function(){var c=this;this.slider.find(".royalLoadingScreen").remove();if(this.settings.controlNavEnabled){this.navItems.bind("click",function(d){d.preventDefault();if(!c._blockClickEvents){c._onNavItemClick(d);}});}if(this.settings.directionNavEnabled){this.arrowRight.click(function(d){d.preventDefault();if(!c._arrowRightBlocked&&!c._blockClickEvents){c.next();}});this.arrowLeft.click(function(d){d.preventDefault();if(!c._arrowLeftBlocked&&!c._blockClickEvents){c.prev();}});}if(this.settings.keyboardNavEnabled){a(document).bind("keydown.rs",function(d){if(!c._blockClickEvents){if(d.keyCode===37){c.prev();}else{if(d.keyCode===39){c.next();}}}});}this.wasSlideshowPlaying=true;this._onSlideAnimationComplete();this._dragContainer.bind(this._downEvent,function(d){if(!c._dragBlocked){c._onDragStart(d);}else{if(!c.hasTouch){d.preventDefault();}}});if(this.slideshowEnabled&&!this.settings.slideshowAutoStart){this._stopSlideshow();}this.settings.allComplete.call(this);},_setGrabCursor:function(){this._dragContainer.removeClass("grabbing-cursor");this._dragContainer.addClass("grab-cursor");},_setGrabbingCursor:function(){this._dragContainer.removeClass("grab-cursor");this._dragContainer.addClass("grabbing-cursor");},_moveSlideRight:function(d,c){if(this.currentSlideId<this.numSlides-1){this.goTo(this.currentSlideId+1,false,false,d,c);}else{this.goTo(this.currentSlideId,false,false,d,c);}},_moveSlideLeft:function(d,c){if(this.currentSlideId>0){this.goTo(this.currentSlideId-1,false,false,d,c);}else{this.goTo(this.currentSlideId,false,false,d,c);}},_onNavItemClick:function(c){this.goTo(a(c.currentTarget).index(),false,true);},_getWebkitTransformX:function(){var d=window.getComputedStyle(this._dragContainer.get(0),null).getPropertyValue("-webkit-transform");var c=d.replace(/^matrix\(/i,"").split(/, |\)$/g);return parseInt(c[4],10);},_onDragStart:function(d){if(!this._isDragging){var f;if(this.hasTouch){this._lockYAxis=false;var c=d.originalEvent.touches;if(c&&c.length>0){f=c[0];}else{return false;}}else{f=d;d.preventDefault();}if(this.slideshowEnabled){if(this.slideshowTimer){this.wasSlideshowPlaying=true;this._stopSlideshow();}else{this.wasSlideshowPlaying=false;}}this._setGrabbingCursor();this._isDragging=true;var g=this;if(this._useWebkitTransition){g._dragContainer.css({"-webkit-transition-duration":"0","-webkit-transition-property":"none"});}a(document).bind(this._moveEvent,function(h){g._onDragMove(h);});a(document).bind(this._upEvent,function(h){g._onDragRelease(h);});if(!this._useWebkitTransition){this._startPos=this._tx=parseInt(this._dragContainer.css("left"),10);}else{this._startPos=this._tx=this._getWebkitTransformX();}this._successfullyDragged=false;this._accelerationX=this._tx;this._startTime=(d.timeStamp||new Date().getTime());this._startMouseX=f.clientX;this._startMouseY=f.clientY;}return false;},_onDragMove:function(d){var f;if(this.hasTouch){if(this._lockYAxis){return false;}var h=d.originalEvent.touches;if(h.length>1){return false;}f=h[0];if(Math.abs(f.clientY-this._startMouseY)>Math.abs(f.clientX-this._startMouseX)+3){if(this.settings.lockAxis){this._lockYAxis=true;}return false;}d.preventDefault();}else{f=d;d.preventDefault();}this._lastDragPosition=this._currentDragPosition;var c=f.clientX-this._startMouseX;if(this._lastDragPosition!=c){this._currentDragPosition=c;}if(c!=0){if(this.currentSlideId==0){if(c>0){c=Math.sqrt(c)*5;}}else{if(this.currentSlideId==(this.numSlides-1)){if(c<0){c=-Math.sqrt(-c)*5;}}}if(!this._useWebkitTransition){this._dragContainer.css("left",this._tx+c);}else{this._dragContainer.css({"-webkit-transform":"translate3d("+(this._tx+c)+"px, 0, 0)"});}}var g=(d.timeStamp||new Date().getTime());if(g-this._startTime>350){this._startTime=g;this._accelerationX=this._tx+c;}return false;},_onDragRelease:function(f){if(this._isDragging){var j=this;this._isDragging=false;this._setGrabCursor();if(!this._useWebkitTransition){this.endPos=parseInt(this._dragContainer.css("left"),10);}else{this.endPos=this._getWebkitTransformX();}this.isdrag=false;a(document).unbind(this._moveEvent).unbind(this._upEvent);if(this.slideshowEnabled){if(this.wasSlideshowPlaying){if(!this._isHovering){this._resumeSlideshow();}this.wasSlideshowPlaying=false;}}if(this.endPos==this._startPos){this._successfullyDragged=false;return;}else{this._successfullyDragged=true;}var c=(this._accelerationX-this.endPos);var d=Math.max(40,(f.timeStamp||new Date().getTime())-this._startTime);var k=Math.abs(c)/d;var g=this.slideWidth-Math.abs(this._startPos-this.endPos);var h=Math.max((g*1.08)/k,200);h=Math.min(h,600);function i(){g=Math.abs(j._startPos-j.endPos);h=Math.max((g*1.08)/k,200);h=Math.min(h,500);j.goTo(j.currentSlideId,false,false,true,h);}if(this._startPos-this.settings.minSlideOffset>this.endPos){if(this._lastDragPosition<this._currentDragPosition){i();return false;}this._moveSlideRight(true,h);}else{if(this._startPos+this.settings.minSlideOffset<this.endPos){if(this._lastDragPosition>this._currentDragPosition){i();return false;}this._moveSlideLeft(true,h);}else{i();}}}return false;},_onSlideAnimationComplete:function(){var c=this;if(this.slideshowEnabled){if(this.wasSlideshowPlaying){if(!this._isHovering){this._resumeSlideshow();}this.wasSlideshowPlaying=false;}}this._blockClickEvents=false;this._dragBlocked=false;if(this.settings.captionAnimationEnabled&&this.lastSlideId!=this.currentSlideId){if(this.lastSlideId!=-1){this.slidesArr[this.lastSlideId].caption.css("display","none");}c._showCaption(c.currentSlideId);}this.isAnimating=false;this.settings.afterSlideChange.call(this);},_showCaption:function(s){var d=this.slidesArr[s].caption;if(d&&d.length>0){d.css("display","block");var A=this;var j,p,v,n,o,u,h,y,w,l,B,m,x;var e=d.children();if(this._captionAnimateTimeouts.length>0){for(var c=this._captionAnimateTimeouts.length-1;c>-1;c--){clearTimeout(this._captionAnimateTimeouts.splice(c,1));}}if(this._captionAnimateProperties.length>0){var f;for(var t=this._captionAnimateProperties.length-1;t>-1;t--){f=this._captionAnimateProperties[t];if(f){if(!this._useWebkitTransition){if(f.running){f.captionItem.stop(true,true);}else{f.captionItem.css(f.css);}}}this._captionAnimateProperties.splice(t,1);}}for(var r=0;r<e.length;r++){j=a(e[r]);o={};p=false;v=false;u="";if(j.attr("data-show-effect")==undefined){h=this.settings.captionShowEffects;}else{h=j.attr("data-show-effect").split(" ");}for(var z=0;z<h.length;z++){if(p&&v){break;}n=h[z].toLowerCase();if(!p&&n=="fade"){p=true;o.opacity=1;}else{if(v){break;}else{if(n=="movetop"){u="margin-top";}else{if(n=="moveleft"){u="margin-left";}else{if(n=="movebottom"){u="margin-bottom";}else{if(n=="moveright"){u="margin-right";}}}}}}if(u!=""){o.moveProp=u;if(!A._useWebkitTransition){o.moveStartPos=parseInt(j.css(u),10);}else{o.moveStartPos=0;}v=true;}}w=parseInt(j.attr("data-move-offset"),10);if(isNaN(w)){w=this.settings.captionMoveOffset;}l=parseInt(j.attr("data-delay"),10);if(isNaN(l)){l=A.settings.captionShowDelay*r;}B=parseInt(j.attr("data-speed"),10);if(isNaN(B)){B=A.settings.captionShowSpeed;}m=j.attr("data-easing");if(!m){m=A.settings.captionShowEasing;}y={};if(v){x=o.moveProp;if(x=="margin-right"){x="margin-left";y[x]=o.moveStartPos+w;}else{if(x=="margin-bottom"){x="margin-top";y[x]=o.moveStartPos+w;}else{y[x]=o.moveStartPos-w;}}}if(!A._removeFadeAnimation&&p){j.css("opacity",0);}if(!A._useWebkitTransition){j.css("visibility","hidden");j.css(y);if(v){y[x]=o.moveStartPos;}if(!A._removeFadeAnimation&&p){y.opacity=1;}}else{var g={};if(v){g["-webkit-transition-duration"]="0";g["-webkit-transition-property"]="none";g["-webkit-transform"]="translate3d("+(isNaN(y["margin-left"])?0:(y["margin-left"]+"px"))+", "+(isNaN(y["margin-top"])?0:(y["margin-top"]+"px"))+",0)";delete y["margin-left"];delete y["margin-top"];y["-webkit-transform"]="translate3d(0,0,0)";}y.visibility="visible";y.opacity=1;if(!A._removeFadeAnimation&&p){g.opacity=0;}g.visibility="hidden";j.css(g);}this._captionAnimateProperties.push({captionItem:j,css:y,running:false});this._captionAnimateTimeouts.push(setTimeout((function(C,i,D,k,q,E,F){return function(){A._captionAnimateProperties[q].running=true;if(!A._useWebkitTransition){C.css("visibility","visible").animate(i,D,k,function(){if(A._isIE8&&E){C.get(0).style.removeAttribute("filter");}delete A._captionAnimateProperties[q];});}else{C.css({"-webkit-transition-duration":(D+"ms"),"-webkit-transition-property":"opacity"+(F?", -webkit-transform":""),"-webkit-transition-timing-function":"ease-out"});C.css(i);}};})(j,y,B,m,r,p,v),l));}}},_scaleImage:function(e,d,c){var g=this.settings.imageScaleMode;var f=this.settings.imageAlignCenter;if(f||g=="fill"||g=="fit"){var h=false;function i(){var k,o,n,m,l;var j=new Image();j.onload=function(){var r=this.width;var q=this.height;var p=parseInt(e.css("borderWidth"),10);p=isNaN(p)?0:p;if(g=="fill"||g=="fit"){k=d/r;o=c/q;if(g=="fill"){n=k>o?k:o;}else{if(g=="fit"){n=k<o?k:o;}else{n=1;}}m=parseInt(r*n,10)-p;l=parseInt(q*n,10)-p;e.attr({width:m,height:l}).css({width:m,height:l});}else{m=r-p;l=q-p;e.attr("width",m).attr("height",l);}if(f){e.css({"margin-left":Math.floor((d-m)/2),"margin-top":Math.floor((c-l)/2)});}};j.src=e.attr("src");}e.removeAttr("height").removeAttr("width");if(!this._isImageLoaded(e.get(0))){a("<img />").load(function(){i();}).attr("src",e.attr("src"));}else{i();}}},_isImageLoaded:function(c){if(c){if(!c.complete){return false;}if(typeof c.naturalWidth!="undefined"&&c.naturalWidth==0){return false;}}else{return false;}return true;}};a.fn.royalSlider=function(c){return this.each(function(){var d=new b(a(this),c);a(this).data("royalSlider",d);});};a.fn.royalSlider.defaults={lockAxis:true,preloadNearbyImages:true,imageScaleMode:"none",imageAlignCenter:false,keyboardNavEnabled:false,directionNavEnabled:true,directionNavAutoHide:false,hideArrowOnLastSlide:true,slideTransitionType:"move",slideTransitionSpeed:400,slideTransitionEasing:"easeInOutSine",captionAnimationEnabled:true,captionShowEffects:["fade","moveleft"],captionMoveOffset:20,captionShowSpeed:400,captionShowEasing:"easeOutCubic",captionShowDelay:200,controlNavEnabled:true,controlNavThumbs:false,controlNavThumbsNavigation:true,controlNavThumbsSpeed:400,controlNavThumbsEasing:"easeInOutSine",slideshowEnabled:false,slideshowDelay:5000,slideshowPauseOnHover:true,slideshowAutoStart:true,welcomeScreenEnabled:false,welcomeScreenShowSpeed:500,minSlideOffset:20,disableTranslate3d:false,removeCaptionsOpacityInIE8:false,startSlideIndex:0,slideSpacing:0,blockLinksOnDrag:true,nonDraggableClassEnabled:true,dragUsingMouse:true,autoScaleSlider:false,autoScaleSliderWidth:960,autoScaleSliderHeight:400,beforeSlideChange:function(){},afterSlideChange:function(){},beforeLoadStart:function(){},loadingComplete:function(){},allComplete:function(){}};a.fn.royalSlider.settings={};})(jQuery);